import { useContext } from 'react';
import { Box, Grid, ResponsiveContext, Text } from 'grommet';
import { ContentPreviewCard } from '../../components';
import {
  HubCardsExample,
  HubListExample,
  HubTableExample,
  SpokeListExample,
  SpokeTwoColumnExample,
  SpokeThreeColumnExample,
  PreviewImage,
} from '../../examples';
import { Example } from '../../layouts';
import { nameToSlug } from '../../utils';

Here are some common layouts to get you started:

<LayoutPreviewGrid />

## Guidance

The when, how, and why to use page layouts.

### About Page Layouts

Choosing a page layout is an important first step in designing an application or website. Use of these layouts will help to maintain consistency across your design. They also provide visual guidance for how your design behaves at different screen sizes.

**Common use cases include:**

- Creating a dashboard with global navigation
- Providing a dialog for viewing or updating something
- Displaying a page in a website

### Usage

Page Layouts provide the basic structure for a variety of page types.

- Page-level vertical scrolling is supported, but horizontal scrolling is not (and should be avoided, when possible).
- Can be used with various [Navigation](/templates/navigation) patterns.
- Are designed to be responsive, and thus behave well, regardless of the screen size they are displayed on.

### Responsiveness

Examples are included for different screen sizes â€“ Desktop, Laptop and Mobile.

Page content can expand to a max-width of 1440px and after that it stays centered. Specifically, the sidebar, main, footer, and header are constrained to stay centered, with equal margins on both sides. This behavior is demonstrated visually when a user clicks on a Desktop example.

### Accessibility

The screen reader reads page content in the order it is specified. Refer to the code examples to see the order in which Page Layout components are specified. Since Sidebar is typically used for global navigation, it is always specified first in Page Layout, when it is included.

Specify page layout content so that it is understandable by the screen reader too. This should make the page easier to visually read as well.

## Hub Variants

A "hub" cleanly presents multiple discreet application sections or "spokes." Each "spoke" keeps the user centered on a more focused task.

For page layouts specific to spokes, see [Spoke Variants](#spoke-variants). For more information about Hub and Spoke navigation, read [Hub and Spoke Guidance](/templates/hub-and-spoke-navigation).

### Hub Cards

<Example
  code={[
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/HubCardsExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderPageExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/footer/FooterExample.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/HeadingSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ParagraphSkeleton.js",
  ]}
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  width="100%"
  showResponsiveControls={['laptop', 'mobile']}
  template
>
  <HubCardsExample />
</Example>

### Hub List

<Example
  code={[
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/HubListExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderPageExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/footer/FooterExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ListSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/AvatarSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ParagraphSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/TextSkeleton.js",
  ]}
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  width="100%"
  showResponsiveControls={['laptop', 'mobile']}
  template
>
  <HubListExample />
</Example>

### Hub Table

In this layout, the Table serves as a hub that allows the user to drill down into specific data records. Clicking on a row of the table may navigate the user to a detail page about that record, allowing the user to review additional information or perform actions specific to that record.

When there is not enough screen width for the entire table to fit, the table should scroll horizontally while the rest of the page content remains as is. For more details on responsive table behaviors, read [Table Guidance](/components/table#guidelines).

<Example
  code={[
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/HubTableExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderPageExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/footer/FooterExample.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/TableSkeleton.js"
  ]}
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  width="100%"
  showResponsiveControls={['laptop', 'mobile']}
  template
>
  <HubTableExample />
</Example>

## Spoke Variants


When on a spoke, a button should be placed directly above the page heading that allows the user to navigate back up the navigation hierarchy.

The button should be labeled "Back to X", where X is the title of the hub that led to this page. For example, if the user reached this spoke from a page called "Account Settings", then the button label should be "Back to Account Settings".

### Spoke List

<Example
  code={[
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/SpokeListExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderPageExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/footer/FooterExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ListSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/AvatarSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ParagraphSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/TextSkeleton.js",
  ]}
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  width="100%"
  showResponsiveControls={['laptop', 'mobile']}
  template
>
  <SpokeListExample />
</Example>

### Spoke 2 Column

<Example
  code={[
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/SpokeTwoColumnExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderPageExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/footer/FooterExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/HeadingSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/MeterSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ParagraphSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/TextSkeleton.js",
  ]}
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  width="100%"
  showResponsiveControls={['laptop', 'mobile']}
  template
>
  <SpokeTwoColumnExample />
</Example>

### Spoke 3 Column

<Example
  code={[
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/SpokeThreeColumnExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/header/HeaderPageExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/components/footer/FooterExample.js", 
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/HeadingSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/MeterSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/ParagraphSkeleton.js",
    "https://raw.githubusercontent.com/grommet/hpe-design-system/master/aries-site/src/examples/templates/page-layouts/skeletons/TextSkeleton.js",
  ]}
  figma="https://www.figma.com/file/4rdBkUlHd5MCVq3hvUOXHd/App-Page-Layouts?node-id=90%3A6535"
  width="100%"
  showResponsiveControls={['laptop', 'mobile']}
  template
>
  <SpokeThreeColumnExample />
</Example>

export const layouts = [
  {
    name: 'Hub Cards',
    preview: <PreviewImage src={{dark: "/templateImages/hub-cards-dark.png", light: "/templateImages/hub-cards-light.png"}} alt="Hub Cards Preview" />,
  },
  {
    name: 'Hub List',
    preview: <PreviewImage src={{dark: "/templateImages/hub-list-dark.png", light: "/templateImages/hub-list-light.png"}} alt="Hub List Preview" />,
  },
  {
    name: 'Hub Table',
    preview: <PreviewImage src={{dark: "/templateImages/hub-table-dark.png", light: "/templateImages/hub-table-light.png"}} alt="Hub Table Preview" />,
  },
  {
    name: 'Spoke List',
    preview: <PreviewImage src={{dark: "/templateImages/spoke-list-dark.png", light: "/templateImages/spoke-list-light.png"}} alt="Spoke List Preview" />,
  },
  {
    name: 'Spoke 2 Column',
    preview: <PreviewImage src={{dark: "/templateImages/spoke-two-column-dark.png", light: "/templateImages/spoke-two-column-light.png"}} alt="Spoke 2 Column Preview" />,
  },
  {
    name: 'Spoke 3 Column',
    preview: <PreviewImage src={{dark: "/templateImages/spoke-three-column-dark.png", light: "/templateImages/spoke-three-column-light.png"}} alt="Spoke 3 Column Preview" />,
  },
];

export const LayoutPreviewGrid = () => {
  const size = useContext(ResponsiveContext);
  return (
    <Grid
      columns={size !== 'small' ? 'medium' : '100%'}
      rows={[['auto', 'full']]}
      gap="medium"
      justify="center"
      fill
    >
      {layouts.map(layout => (
        <ContentPreviewCard
          forwardedAs="a"
          style={{ textDecoration: 'none' }}
          href={`#${nameToSlug(layout.name)}`}
        >
          <Box height="small" width="100%" round="xsmall">
            {layout.preview}
          </Box>
          <Text color="text-strong" weight="bold" size="large" margin={{ top: 'small' }}>
            {layout.name}
          </Text>
        </ContentPreviewCard>
      ))}
    </Grid>
  );
};
